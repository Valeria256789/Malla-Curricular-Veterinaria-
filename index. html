<!DOCTYPE html><html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Malla Inteligente - MVZ UAGRM</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f9f9f9; }
    h1 { text-align: center; color: #2c3e50; }
    .materia {
      margin: 8px 0;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
      background-color: #eee;
    }
    .materia label { cursor: pointer; }
    .bloqueada { opacity: 0.5; background-color: #f2f2f2; }
    .habilitada { background-color: #d1f7c4; font-weight: bold; }
    .aprobada { text-decoration: line-through; background-color: #a5d6a7; }
    .semestre { margin-bottom: 25px; }
    h2 { color: #1f5e88; margin-top: 20px; }
  </style>
</head>
<body>
<h1>Malla Inteligente - Medicina Veterinaria y Zootecnia (UAGRM)</h1>
<div id="malla"></div><script>
const materias = [
  { nombre: "Ecolog√≠a General", codigo: "eco", semestre: 1 },
  { nombre: "Histolog√≠a y Embriolog√≠a Veterinaria", codigo: "he", semestre: 1 },
  { nombre: "Anatom√≠a Veterinaria I", codigo: "ana1", semestre: 1 },
  { nombre: "Metodolog√≠a de la Investigaci√≥n", codigo: "met", semestre: 1 },
  { nombre: "Bioqu√≠mica Veterinaria I", codigo: "bioq1", semestre: 1 },

  { nombre: "Histolog√≠a II", codigo: "he2", semestre: 2, prereqs: ["he"] },
  { nombre: "Anatom√≠a II", codigo: "ana2", semestre: 2, prereqs: ["ana1"] },
  { nombre: "Bioqu√≠mica II", codigo: "bioq2", semestre: 2, prereqs: ["bioq1"] },
  { nombre: "Bioestad√≠stica", codigo: "bioest", semestre: 2 },
  { nombre: "Etolog√≠a y Bienestar", codigo: "etologia", semestre: 2 },

  { nombre: "Bacteriolog√≠a y Micolog√≠a", codigo: "bact", semestre: 3, prereqs: ["bioq2"] },
  { nombre: "Virolog√≠a e Inmunolog√≠a", codigo: "virologia", semestre: 3, prereqs: ["bioq2"] },
  { nombre: "Parasitolog√≠a I", codigo: "paras1", semestre: 3 },
  { nombre: "Fisiolog√≠a I", codigo: "fisio1", semestre: 3, prereqs: ["ana2"] },
  { nombre: "Gen√©tica", codigo: "gen", semestre: 3 },

  { nombre: "Parasitolog√≠a II", codigo: "paras2", semestre: 4, prereqs: ["paras1"] },
  { nombre: "Fisiolog√≠a II", codigo: "fisio2", semestre: 4, prereqs: ["fisio1"] },
  { nombre: "Patolog√≠a General", codigo: "patog", semestre: 4 },
  { nombre: "Proped√©utica", codigo: "prope", semestre: 4 },
  { nombre: "Nutrici√≥n Aplicada", codigo: "nutri", semestre: 4, prereqs: ["gen"] },

  // Puedes seguir agregando m√°s materias con su semestre y prereqs aqu√≠...
];

const estado = {};
const malla = document.getElementById("malla");

function crearMalla() {
  for (let s = 1; s <= 10; s++) {
    const semDiv = document.createElement("div");
    semDiv.className = "semestre";
    const h2 = document.createElement("h2");
    h2.textContent = `üìò Semestre ${s}`;
    semDiv.appendChild(h2);

    materias.filter(m => m.semestre === s).forEach(m => {
      const div = document.createElement("div");
      div.className = "materia bloqueada";
      div.id = `div-${m.codigo}`;

      const check = document.createElement("input");
      check.type = "checkbox";
      check.id = m.codigo;
      check.disabled = true;

      check.addEventListener("change", () => {
        estado[m.codigo] = check.checked;
        if (check.checked) {
          div.classList.add("aprobada");
        } else {
          div.classList.remove("aprobada");
        }
        actualizarMalla();
      });

      const label = document.createElement("label");
      label.htmlFor = m.codigo;
      label.textContent = " " + m.nombre;

      div.appendChild(check);
      div.appendChild(label);
      semDiv.appendChild(div);
    });

    malla.appendChild(semDiv);
  }
  actualizarMalla();
}

function actualizarMalla() {
  materias.forEach(m => {
    const div = document.getElementById(`div-${m.codigo}`);
    const checkbox = document.getElementById(m.codigo);
    const requisitos = m.prereqs || [];
    const aprobados = requisitos.every(r => estado[r]);
    const yaAprobada = estado[m.codigo];

    if (yaAprobada) {
      checkbox.disabled = false;
      checkbox.checked = true;
      div.className = "materia aprobada";
    } else if (requisitos.length === 0 || aprobados) {
      checkbox.disabled = false;
      div.className = "materia habilitada";
    } else {
      checkbox.disabled = true;
      checkbox.checked = false;
      div.className = "materia bloqueada";
    }
  });
}

crearMalla();
</script></body>
</html>
